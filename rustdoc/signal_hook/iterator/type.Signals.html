<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A type alias for an iterator returning just the signal numbers."><title>Signals in signal_hook::iterator - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="signal_hook" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.1 (a28077b28 2023-12-04)" data-channel="1.74.1" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../signal_hook/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../signal_hook/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Signals</a></h2><div class="sidebar-elems"><section><h3><a href="#aliased-type">Aliased type</a></h3><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.add_signal">add_signal</a></li><li><a href="#method.forever">forever</a></li><li><a href="#method.handle">handle</a></li><li><a href="#method.is_closed">is_closed</a></li><li><a href="#method.new">new</a></li><li><a href="#method.pending">pending</a></li><li><a href="#method.wait">wait</a></li><li><a href="#method.with_exfiltrator">with_exfiltrator</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-Debug-for-SignalsInfo%3CE%3E">Debug</a></li></ul></section><h2><a href="index.html">In signal_hook::iterator</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="../index.html">signal_hook</a>::<wbr><a href="index.html">iterator</a>::<wbr><a class="type" href="#">Signals</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/signal_hook/iterator/mod.rs.html#326">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type Signals = <a class="struct" href="struct.SignalsInfo.html" title="struct signal_hook::iterator::SignalsInfo">SignalsInfo</a>&lt;<a class="struct" href="exfiltrator/struct.SignalOnly.html" title="struct signal_hook::iterator::exfiltrator::SignalOnly">SignalOnly</a>&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A type alias for an iterator returning just the signal numbers.</p>
<p>This is the simplified version for most of the use cases. For advanced usages, the
<a href="struct.SignalsInfo.html" title="struct signal_hook::iterator::SignalsInfo"><code>SignalsInfo</code></a> with explicit <a href="exfiltrator/trait.Exfiltrator.html" title="trait signal_hook::iterator::exfiltrator::Exfiltrator"><code>Exfiltrator</code></a> type can be used.</p>
</div></details><h2 id="aliased-type" class="small-section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>struct Signals(/* private fields */);</code></pre><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-SignalsInfo%3CE%3E" class="impl"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#131-278">source</a><a href="#impl-SignalsInfo%3CE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;E: <a class="trait" href="exfiltrator/trait.Exfiltrator.html" title="trait signal_hook::iterator::exfiltrator::Exfiltrator">Exfiltrator</a>&gt; <a class="struct" href="struct.SignalsInfo.html" title="struct signal_hook::iterator::SignalsInfo">SignalsInfo</a>&lt;E&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#136-143">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>&lt;I, S&gt;(signals: I) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="struct" href="https://doc.rust-lang.org/1.74.1/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;<span class="where fmt-newline">where
    I: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = S&gt;,
    S: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="type" href="../../libc/unix/type.c_int.html" title="type libc::unix::c_int">c_int</a>&gt;,
    E: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/default/trait.Default.html" title="trait core::default::Default">Default</a>,</span></h4></section></summary><div class="docblock"><p>Creates the <code>Signals</code> structure.</p>
<p>This registers all the signals listed. The same restrictions (panics, errors) apply as
for the <a href="backend/struct.Handle.html#method.add_signal" title="method signal_hook::iterator::backend::Handle::add_signal"><code>Handle::add_signal</code></a> method.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.with_exfiltrator" class="method"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#146-158">source</a><h4 class="code-header">pub fn <a href="#method.with_exfiltrator" class="fn">with_exfiltrator</a>&lt;I, S&gt;(signals: I, exfiltrator: E) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="struct" href="https://doc.rust-lang.org/1.74.1/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;<span class="where fmt-newline">where
    I: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = S&gt;,
    S: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="type" href="../../libc/unix/type.c_int.html" title="type libc::unix::c_int">c_int</a>&gt;,</span></h4></section></summary><div class="docblock"><p>An advanced constructor with explicit <a href="exfiltrator/trait.Exfiltrator.html" title="trait signal_hook::iterator::exfiltrator::Exfiltrator"><code>Exfiltrator</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_signal" class="method"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#164-166">source</a><h4 class="code-header">pub fn <a href="#method.add_signal" class="fn">add_signal</a>(&amp;self, signal: <a class="type" href="../../libc/unix/type.c_int.html" title="type libc::unix::c_int">c_int</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.74.1/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Registers another signal to the set watched by this <a href="type.Signals.html" title="type signal_hook::iterator::Signals"><code>Signals</code></a> instance.</p>
<p>The same restrictions (panics, errors) apply as for the <a href="backend/struct.Handle.html#method.add_signal" title="method signal_hook::iterator::backend::Handle::add_signal"><code>Handle::add_signal</code></a>
method.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pending" class="method"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#177-179">source</a><h4 class="code-header">pub fn <a href="#method.pending" class="fn">pending</a>(&amp;mut self) -&gt; <a class="struct" href="backend/struct.Pending.html" title="struct signal_hook::iterator::backend::Pending">Pending</a>&lt;E&gt; <a href="#" class="tooltip" data-notable-ty="Pending&lt;E&gt;">ⓘ</a></h4></section></summary><div class="docblock"><p>Returns an iterator of already received signals.</p>
<p>This returns an iterator over all the signal numbers of the signals received since last
time they were read (out of the set registered by this <code>Signals</code> instance). Note that they
are returned in arbitrary order and a signal instance may returned only once even if it was
received multiple times.</p>
<p>This method returns immediately (does not block) and may produce an empty iterator if there
are no signals ready.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.wait" class="method"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#209-220">source</a><h4 class="code-header">pub fn <a href="#method.wait" class="fn">wait</a>(&amp;mut self) -&gt; <a class="struct" href="backend/struct.Pending.html" title="struct signal_hook::iterator::backend::Pending">Pending</a>&lt;E&gt; <a href="#" class="tooltip" data-notable-ty="Pending&lt;E&gt;">ⓘ</a></h4></section></summary><div class="docblock"><p>Waits for some signals to be available and returns an iterator.</p>
<p>This is similar to <a href="struct.SignalsInfo.html#method.pending" title="method signal_hook::iterator::SignalsInfo::pending"><code>pending</code></a>. If there are no signals available, it
tries to wait for some to arrive. However, due to implementation details, this still can
produce an empty iterator.</p>
<p>This can block for arbitrary long time. If the <a href="backend/struct.Handle.html#method.close" title="method signal_hook::iterator::backend::Handle::close"><code>Handle::close</code></a> method is used in
another thread this method will return immediately.</p>
<p>Note that the blocking is done in this method, not in the iterator.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_closed" class="method"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#225-227">source</a><h4 class="code-header">pub fn <a href="#method.is_closed" class="fn">is_closed</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Is it closed?</p>
<p>See <a href="backend/struct.Handle.html#method.close" title="method signal_hook::iterator::backend::Handle::close"><code>close</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.forever" class="method"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#268-270">source</a><h4 class="code-header">pub fn <a href="#method.forever" class="fn">forever</a>(&amp;mut self) -&gt; <a class="struct" href="struct.Forever.html" title="struct signal_hook::iterator::Forever">Forever</a>&lt;'_, E&gt; <a href="#" class="tooltip" data-notable-ty="Forever&lt;&#39;_, E&gt;">ⓘ</a></h4></section></summary><div class="docblock"><p>Get an infinite iterator over arriving signals.</p>
<p>The iterator’s <code>next()</code> blocks as necessary to wait for signals to arrive. This is adequate
if you want to designate a thread solely to handling signals. If multiple signals come at
the same time (between two values produced by the iterator), they will be returned in
arbitrary order. Multiple instances of the same signal may be collated.</p>
<p>This is also the iterator returned by <code>IntoIterator</code> implementation on <code>&amp;mut Signals</code>.</p>
<p>This iterator terminates only if explicitly <a href="backend/struct.Handle.html#method.close" title="method signal_hook::iterator::backend::Handle::close">closed</a>.</p>
<h5 id="examples"><a href="#examples">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>signal_hook::consts::signal::<span class="kw-2">*</span>;
<span class="kw">use </span>signal_hook::iterator::Signals;

<span class="kw">let </span><span class="kw-2">mut </span>signals = Signals::new(<span class="kw-2">&amp;</span>[SIGUSR1, SIGUSR2])<span class="question-mark">?</span>;
<span class="kw">let </span>handle = signals.handle();
thread::spawn(<span class="kw">move </span>|| {
    <span class="kw">for </span>signal <span class="kw">in </span>signals.forever() {
        <span class="kw">match </span>signal {
            SIGUSR1 =&gt; {},
            SIGUSR2 =&gt; {},
            <span class="kw">_ </span>=&gt; <span class="macro">unreachable!</span>(),
        }
    }
});
handle.close();</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.handle" class="method"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#275-277">source</a><h4 class="code-header">pub fn <a href="#method.handle" class="fn">handle</a>(&amp;self) -&gt; <a class="struct" href="backend/struct.Handle.html" title="struct signal_hook::iterator::backend::Handle">Handle</a></h4></section></summary><div class="docblock"><p>Get a shareable handle to a <a href="backend/struct.Handle.html" title="struct signal_hook::iterator::backend::Handle"><code>Handle</code></a> for this instance.</p>
<p>This can be used to add further signals or close the <a href="type.Signals.html" title="type signal_hook::iterator::Signals"><code>Signals</code></a> instance.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-SignalsInfo%3CE%3E" class="impl"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#280-288">source</a><a href="#impl-Debug-for-SignalsInfo%3CE%3E" class="anchor">§</a><h3 class="code-header">impl&lt;E&gt; <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.SignalsInfo.html" title="struct signal_hook::iterator::SignalsInfo">SignalsInfo</a>&lt;E&gt;<span class="where fmt-newline">where
    E: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="exfiltrator/trait.Exfiltrator.html" title="trait signal_hook::iterator::exfiltrator::Exfiltrator">Exfiltrator</a>,
    E::Storage: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../../src/signal_hook/iterator/mod.rs.html#285-287">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.74.1/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, fmt: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.74.1/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.74.1/core/fmt/type.Result.html" title="type core::fmt::Result">FmtResult</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.74.1/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details></div><script type="text/json" id="notable-traits-data">{"Forever<'_, E>":"<h3>Notable traits for <code><a class=\"struct\" href=\"struct.Forever.html\" title=\"struct signal_hook::iterator::Forever\">Forever</a>&lt;'a, E&gt;</code></h3><pre><code><span class=\"where fmt-newline\">impl&lt;'a, E: <a class=\"trait\" href=\"exfiltrator/trait.Exfiltrator.html\" title=\"trait signal_hook::iterator::exfiltrator::Exfiltrator\">Exfiltrator</a>&gt; <a class=\"trait\" href=\"https://doc.rust-lang.org/1.74.1/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"struct.Forever.html\" title=\"struct signal_hook::iterator::Forever\">Forever</a>&lt;'a, E&gt;</span><span class=\"where fmt-newline\">    type <a href=\"https://doc.rust-lang.org/1.74.1/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = E::Output;</span>","Pending<E>":"<h3>Notable traits for <code><a class=\"struct\" href=\"backend/struct.Pending.html\" title=\"struct signal_hook::iterator::backend::Pending\">Pending</a>&lt;E&gt;</code></h3><pre><code><span class=\"where fmt-newline\">impl&lt;E: <a class=\"trait\" href=\"exfiltrator/trait.Exfiltrator.html\" title=\"trait signal_hook::iterator::exfiltrator::Exfiltrator\">Exfiltrator</a>&gt; <a class=\"trait\" href=\"https://doc.rust-lang.org/1.74.1/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"backend/struct.Pending.html\" title=\"struct signal_hook::iterator::backend::Pending\">Pending</a>&lt;E&gt;</span><span class=\"where fmt-newline\">    type <a href=\"https://doc.rust-lang.org/1.74.1/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = E::Output;</span>"}</script></section></div></main></body></html>